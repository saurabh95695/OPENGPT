{"version":3,"sources":["../../../../src/context/react/hooks/useAssistantEvent.ts"],"sourcesContent":["import { useEffect, useRef } from \"react\";\nimport { useAssistantApi } from \"../../react/AssistantApiContext\";\nimport {\n  AssistantEvent,\n  AssistantEventCallback,\n  AssistantEventSelector,\n  normalizeEventSelector,\n} from \"../../../types/EventTypes\";\n\nexport const useAssistantEvent = <TEvent extends AssistantEvent>(\n  selector: AssistantEventSelector<TEvent>,\n  callback: AssistantEventCallback<TEvent>,\n) => {\n  const api = useAssistantApi();\n  const callbackRef = useRef(callback);\n  useEffect(() => {\n    callbackRef.current = callback;\n  });\n\n  const { scope, event } = normalizeEventSelector(selector);\n  useEffect(\n    () => api.on({ scope, event }, (e) => callbackRef.current(e)),\n    [api, scope, event],\n  );\n};\n"],"mappings":";AAAA,SAAS,WAAW,cAAc;AAClC,SAAS,uBAAuB;AAChC;AAAA,EAIE;AAAA,OACK;AAEA,IAAM,oBAAoB,CAC/B,UACA,aACG;AACH,QAAM,MAAM,gBAAgB;AAC5B,QAAM,cAAc,OAAO,QAAQ;AACnC,YAAU,MAAM;AACd,gBAAY,UAAU;AAAA,EACxB,CAAC;AAED,QAAM,EAAE,OAAO,MAAM,IAAI,uBAAuB,QAAQ;AACxD;AAAA,IACE,MAAM,IAAI,GAAG,EAAE,OAAO,MAAM,GAAG,CAAC,MAAM,YAAY,QAAQ,CAAC,CAAC;AAAA,IAC5D,CAAC,KAAK,OAAO,KAAK;AAAA,EACpB;AACF;","names":[]}