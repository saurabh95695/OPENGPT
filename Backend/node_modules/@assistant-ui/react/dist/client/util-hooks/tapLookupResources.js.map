{"version":3,"sources":["../../../src/client/util-hooks/tapLookupResources.ts"],"sourcesContent":["import { ResourceElement, tapResources } from \"@assistant-ui/tap\";\nimport { ApiObject } from \"../../utils/tap-store\";\n\nexport const tapLookupResources = <TState, TApi extends ApiObject>(\n  elements: ResourceElement<{\n    key: string | undefined;\n    state: TState;\n    api: TApi;\n  }>[],\n) => {\n  const resources = tapResources(elements);\n\n  return {\n    state: resources.map((r) => r.state),\n    api: (lookup: { index: number } | { key: string }) => {\n      const value =\n        \"index\" in lookup\n          ? resources[lookup.index]?.api\n          : resources.find((r) => r.key === lookup.key)?.api;\n\n      if (!value) {\n        throw new Error(\n          `tapLookupResources: Resource not found for lookup: ${JSON.stringify(lookup)}`,\n        );\n      }\n\n      return value;\n    },\n  };\n};\n"],"mappings":";AAAA,SAA0B,oBAAoB;AAGvC,IAAM,qBAAqB,CAChC,aAKG;AACH,QAAM,YAAY,aAAa,QAAQ;AAEvC,SAAO;AAAA,IACL,OAAO,UAAU,IAAI,CAAC,MAAM,EAAE,KAAK;AAAA,IACnC,KAAK,CAAC,WAAgD;AACpD,YAAM,QACJ,WAAW,SACP,UAAU,OAAO,KAAK,GAAG,MACzB,UAAU,KAAK,CAAC,MAAM,EAAE,QAAQ,OAAO,GAAG,GAAG;AAEnD,UAAI,CAAC,OAAO;AACV,cAAM,IAAI;AAAA,UACR,sDAAsD,KAAK,UAAU,MAAM,CAAC;AAAA,QAC9E;AAAA,MACF;AAEA,aAAO;AAAA,IACT;AAAA,EACF;AACF;","names":[]}