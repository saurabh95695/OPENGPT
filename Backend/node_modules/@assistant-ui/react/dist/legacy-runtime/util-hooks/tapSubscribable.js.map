{"version":3,"sources":["../../../src/legacy-runtime/util-hooks/tapSubscribable.ts"],"sourcesContent":["import { tapState, tapEffect } from \"@assistant-ui/tap\";\nimport { SubscribableWithState } from \"../runtime/subscribable/Subscribable\";\n\nexport const tapSubscribable = <T>(\n  subscribable: Omit<SubscribableWithState<T, any>, \"path\">,\n) => {\n  const [, setState] = tapState(subscribable.getState);\n  tapEffect(() => {\n    setState(subscribable.getState());\n    return subscribable.subscribe(() => {\n      setState(subscribable.getState());\n    });\n  }, [subscribable]);\n\n  return subscribable.getState();\n};\n"],"mappings":";AAAA,SAAS,UAAU,iBAAiB;AAG7B,IAAM,kBAAkB,CAC7B,iBACG;AACH,QAAM,CAAC,EAAE,QAAQ,IAAI,SAAS,aAAa,QAAQ;AACnD,YAAU,MAAM;AACd,aAAS,aAAa,SAAS,CAAC;AAChC,WAAO,aAAa,UAAU,MAAM;AAClC,eAAS,aAAa,SAAS,CAAC;AAAA,IAClC,CAAC;AAAA,EACH,GAAG,CAAC,YAAY,CAAC;AAEjB,SAAO,aAAa,SAAS;AAC/B;","names":[]}